<ion-header [translucent]="true" >
  <ion-toolbar color="primary">
    <ion-title >
      {{ViewTitle}}
    </ion-title>

  </ion-toolbar>
  <ion-searchbar [debounce]="1000" (ionChange)="handleChange($event)" (click)="visible=!visible"></ion-searchbar>
</ion-header>


<ion-content >
  <ion-list *ngIf="visible">
    <ion-item *ngFor="let result of results" (click)="onitemSelect(result)" >
      <ion-label>{{ result }}</ion-label>
    </ion-item>
  </ion-list>
<ion-button (click)="createRandomEvents()" (click)="visible=visible">random</ion-button>

  <ion-card>
    <ion-card-header color="secondary" tappable (click)="collapseCard =!collapseCard" >
      <ion-card-title >New Event</ion-card-title>
    </ion-card-header>
    <ion-card-content *ngIf="!collapseCard">
      <ion-item>
        <ion-input type="text" placeholder="Title" [(ngModel)]="event.title"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Description" [(ngModel)]="event.desc"></ion-input>
      </ion-item>
      <ion-item lines="full">
        <ion-label>Start</ion-label>
        <ion-datetime-button datetime="datetime"></ion-datetime-button>
        <ion-popover [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime [showDefaultButtons]="true" id="datetime" [(ngModel)]="event.startTime"></ion-datetime>
          </ng-template>
        </ion-popover>
      </ion-item>
      <ion-item lines="full">
        <ion-label>End</ion-label>
        <ion-datetime-button datetime="endtime"></ion-datetime-button>
        <ion-popover [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime [showDefaultButtons]="true" id="endtime" [(ngModel)]="event.endTime"></ion-datetime>
          </ng-template>
        </ion-popover>
      </ion-item>
      <ion-button fill="outline" expand="block" (click)="addEvent()">ADD Meeting</ion-button>


    </ion-card-content>
  </ion-card>
  <ion-row>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode === 'month' ? 'primary' : 'secondary'" (click)="cngMonth()">Month</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode === 'week' ? 'primary' : 'secondary'" (click)="cngWeek()">Week</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode === 'day' ? 'primary' : 'secondary'" (click)="cngDay()">Day</ion-button>
    </ion-col>
  </ion-row>
  <ion-col size="8" class="ion-text-center">
    <h2>{{ currentMonth }}</h2>
  </ion-col>
  <calendar  [eventSource]="eventSource"
  [calendarMode]="calendar.mode"
  [currentDate]="calendar.currentDate"
  (onEventSelected)="onEventSelected($event)"
  (onTitleChanged)="onViewTitleChanged($event)"
  (onTimeSelected)="onTimeSelected()"
  [step]="calendar.step"
  [startingDayWeek]="1"
  [startHour]="6"
  [endHour]="20"
  >
</calendar>

</ion-content>
